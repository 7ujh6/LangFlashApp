{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\profile-dropdown\\\\profile-dropdown.component.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport { ProfileDropdownContainer, LabelContainer, DropdownLink } from './profile-dropdown.styles';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { ProfileDisplayContext } from '../../providers/profile-display/profile-display.provider';\nimport { fetchReferenceObject, auth } from '../../firebase/firebase.utils';\n\nconst ProfileDropdown = () => {\n  const {\n    friendsList\n  } = useContext(UserContext);\n  const {\n    activeFriends,\n    fetchActiveFriends\n  } = useContext(ProfileDisplayContext); //var activeFriendsSet = new Set();\n\n  /*if (!activeFriendsSet.has(friend)) {\r\n              activeFriendsSet.add(friend);\r\n              this.setState({activeFriends: [...activeFriends, friend]});\r\n              } else {\r\n              activeFriendsSet.delete(friend);\r\n              this.setState({activeFriends: activeFriends.filter(inactiveFriend => friend === inactiveFriend)})\r\n          } */\n  //I'm pretty sure this is wrong somehow but I have yet to find out \n\n  useEffect(() => {\n    friendsList.forEach(async friend => await fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\n      fetchActiveFriends(friendsList);\n    }));\n  }, []); //render the friendsList in the profile dropdown. \n\n  return /*#__PURE__*/React.createElement(ProfileDropdownContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(LabelContainer, {\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"Signout\"), /*#__PURE__*/React.createElement(DropdownLink, {\n    to: \"/browsefriends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"Browse Friends\"));\n};\n\nexport default ProfileDropdown;","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/profile-dropdown/profile-dropdown.component.jsx"],"names":["React","useContext","useEffect","ProfileDropdownContainer","LabelContainer","DropdownLink","UserContext","ProfileDisplayContext","fetchReferenceObject","auth","ProfileDropdown","friendsList","activeFriends","fetchActiveFriends","forEach","friend","child","onSnapshot","signOut"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,SAAQC,wBAAR,EAAkCC,cAAlC,EAAkDC,YAAlD,QAAqE,2BAArE;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,qBAAR,QAAoC,0DAApC;AACA,SAAQC,oBAAR,EAA8BC,IAA9B,QAAyC,+BAAzC;;AAGA,MAAMC,eAAe,GAAG,MAAM;AAE1B,QAAM;AAACC,IAAAA;AAAD,MAAgBV,UAAU,CAACK,WAAD,CAAhC;AACA,QAAM;AAACM,IAAAA,aAAD;AAAgBC,IAAAA;AAAhB,MAAsCZ,UAAU,CAACM,qBAAD,CAAtD,CAH0B,CAK1B;;AACA;;;;;;;AAUA;;AACAL,EAAAA,SAAS,CAAE,MAAM;AACdS,IAAAA,WAAW,CAACG,OAAZ,CAAoB,MAAMC,MAAN,IAAgB,MAAMP,oBAAoB,CAACO,MAAD,CAApB,CAA6BC,KAA7B,CAAmC,gBAAnC,EAAqDC,UAArD,CAAgE,MAAM;AAC5GJ,MAAAA,kBAAkB,CAACF,WAAD,CAAlB;AACF,KAFwC,CAA1C;AAGF,GAJQ,EAIN,EAJM,CAAT,CAjB0B,CAyB1B;;AACA,sBAAO,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH,oBAAC,cAAD;AAAgB,IAAA,OAAO,EAAE,MAAMF,IAAI,CAACS,OAAL,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADG,eAEH,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFG,CAAP;AAIH,CA9BD;;AAgCA,eAAeR,eAAf","sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport {ProfileDropdownContainer, LabelContainer, DropdownLink} from './profile-dropdown.styles';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {ProfileDisplayContext} from '../../providers/profile-display/profile-display.provider';\r\nimport {fetchReferenceObject, auth} from '../../firebase/firebase.utils';\r\n\r\n\r\nconst ProfileDropdown = () => {\r\n\r\n    const {friendsList} = useContext(UserContext);\r\n    const {activeFriends, fetchActiveFriends} = useContext(ProfileDisplayContext);\r\n\r\n    //var activeFriendsSet = new Set();\r\n    /*if (!activeFriendsSet.has(friend)) {\r\n                activeFriendsSet.add(friend);\r\n                this.setState({activeFriends: [...activeFriends, friend]});\r\n                } else {\r\n                activeFriendsSet.delete(friend);\r\n                this.setState({activeFriends: activeFriends.filter(inactiveFriend => friend === inactiveFriend)})\r\n            } */\r\n\r\n\r\n\r\n    //I'm pretty sure this is wrong somehow but I have yet to find out \r\n    useEffect (() => {\r\n       friendsList.forEach(async friend => await fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\r\n           fetchActiveFriends(friendsList);\r\n        }))\r\n    }, [])\r\n\r\n\r\n\r\n    //render the friendsList in the profile dropdown. \r\n    return <ProfileDropdownContainer>\r\n        <LabelContainer onClick={() => auth.signOut()}>Signout</LabelContainer>\r\n        <DropdownLink to=\"/browsefriends\">Browse Friends</DropdownLink>\r\n    </ProfileDropdownContainer>;\r\n}\r\n\r\nexport default ProfileDropdown;"]},"metadata":{},"sourceType":"module"}