{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\personal-profile\\\\personal-profile.component.jsx\";\nimport React, { useState, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { ProfileContext } from '../../providers/profile/profile.provider';\nimport CustomButton from '../custom-button/custom-button.component';\nimport Decks from '../decks/decks.component';\nimport FormInput from '../form-input/form-input.component';\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\nimport { ReactComponent as EditIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/pencil-edit-button.svg\";\nimport { PersonalProfileContainer, ProfileIconContainer, ButtonsContainer, DisplayNameContainer, CancelButtonWithTooltip, TooltipText, FormContainer, FileInput, HeaderButtonsContainer, ImageContainer } from './personal-profile.styles';\n\nconst PersonalProfile = ({\n  history\n}) => {\n  const {\n    displayName,\n    displayIcon,\n    activeDecks,\n    changeDisplayName,\n    changeActiveDecks,\n    changeDisplayIcon\n  } = useContext(UserContext);\n  const profileContext = useContext(ProfileContext);\n  const [replacement, setReplacement] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [popUp, setPopUp] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    changeDisplayName(replacement);\n    setReplacement(\"\");\n    profileContext.toggleVisible();\n  };\n\n  const handleChange = event => {\n    const {\n      replacement\n    } = event.target;\n    setReplacement(replacement);\n  };\n\n  const handleCancel = event => {\n    setReplacement(\"\");\n    profileContext.toggleVisible();\n  };\n\n  const handleSelect = event => {\n    if (event.target.files[0]) {\n      setImage(event.target.files[0]);\n      setPopUp(!popUp);\n    }\n  };\n\n  const cancelUpload = event => {\n    setImage(null);\n    setPopUp(!popUp);\n  };\n\n  const handleUpload = event => {\n    changeDisplayIcon(image);\n    setImage(\"\");\n    setPopUp(!popUp);\n  };\n\n  return /*#__PURE__*/React.createElement(PersonalProfileContainer, {\n    popUp: popUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(ProfileIconContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"profile-icon\",\n    width: \"100\",\n    height: \"100\",\n    src: displayIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 31\n    }\n  })), profileContext.visible ? /*#__PURE__*/React.createElement(DisplayNameContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 35\n    }\n  }, displayName, /*#__PURE__*/React.createElement(EditIcon, {\n    onClick: profileContext.toggleVisible(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 70\n    }\n  })) : /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    name: \"displayName\",\n    type: \"text\",\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    value: replacement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(CancelButtonWithTooltip, {\n    onClick: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\uD835\\uDDEB\", /*#__PURE__*/React.createElement(TooltipText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 66\n    }\n  }, \"Cancel\"))), popUp ? /*#__PURE__*/React.createElement(PopUpWindow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HeaderButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: cancelUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 58\n    }\n  }, \"\\uD835\\uDDEB\")), /*#__PURE__*/React.createElement(ImageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 128\n    }\n  }, image), /*#__PURE__*/React.createElement(CustomButton, {\n    onClick: handleUpload,\n    isUpload: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 168\n    }\n  }, \"Upload\")) : null, /*#__PURE__*/React.createElement(ButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Change Display Icon \", /*#__PURE__*/React.createElement(FileInput, {\n    type: \"file\",\n    onChange: handleSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 47\n    }\n  }))), /*#__PURE__*/React.createElement(Decks, {\n    activeDecks: activeDecks,\n    changeActiveDecks: changeActiveDecks,\n    isUser: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default withRouter(PersonalProfile);","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/personal-profile/personal-profile.component.jsx"],"names":["React","useState","useContext","withRouter","UserContext","ProfileContext","CustomButton","Decks","FormInput","PopUpWindow","PersonalProfileContainer","ProfileIconContainer","ButtonsContainer","DisplayNameContainer","CancelButtonWithTooltip","TooltipText","FormContainer","FileInput","HeaderButtonsContainer","ImageContainer","PersonalProfile","history","displayName","displayIcon","activeDecks","changeDisplayName","changeActiveDecks","changeDisplayIcon","profileContext","replacement","setReplacement","image","setImage","popUp","setPopUp","handleSubmit","event","preventDefault","toggleVisible","handleChange","target","handleCancel","handleSelect","files","cancelUpload","handleUpload","visible"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {ProfileContext} from '../../providers/profile/profile.provider';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport Decks from '../decks/decks.component';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\r\nimport {ReactComponent as EditIcon} from '../../assets/pencil-edit-button.svg'\r\nimport {PersonalProfileContainer, ProfileIconContainer, ButtonsContainer, DisplayNameContainer,\r\nCancelButtonWithTooltip, TooltipText, FormContainer, FileInput, HeaderButtonsContainer,\r\nImageContainer} from './personal-profile.styles'\r\n\r\n\r\nconst PersonalProfile = ({history}) => {\r\n\r\n    const {displayName, displayIcon, activeDecks, changeDisplayName, changeActiveDecks, changeDisplayIcon} = useContext(UserContext);\r\n    const profileContext = useContext(ProfileContext);\r\n\r\n    const [replacement, setReplacement] = useState(\"\");\r\n    const [image, setImage] = useState(null);\r\n    const [popUp, setPopUp] = useState(false);\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        changeDisplayName(replacement);\r\n        setReplacement(\"\");\r\n        profileContext.toggleVisible();\r\n    }\r\n\r\n    const handleChange = event => {\r\n        const {replacement} = event.target;\r\n        setReplacement(replacement);\r\n    }\r\n\r\n    const handleCancel = event => {\r\n        setReplacement(\"\");\r\n        profileContext.toggleVisible();\r\n    }\r\n    const handleSelect = event => {\r\n        if (event.target.files[0]) {\r\n            setImage(event.target.files[0]);\r\n            setPopUp(!popUp);\r\n        }\r\n    }\r\n\r\n    const cancelUpload = event => {\r\n        setImage(null);\r\n        setPopUp(!popUp);\r\n    }\r\n\r\n    const handleUpload = event => {\r\n        changeDisplayIcon(image);\r\n        setImage(\"\");\r\n        setPopUp(!popUp);\r\n    }\r\n\r\n\r\n    return <PersonalProfileContainer popUp={popUp}>\r\n        <ProfileIconContainer><img alt='profile-icon' width='100' height='100' src={displayIcon} /></ProfileIconContainer>\r\n        {profileContext.visible ? <DisplayNameContainer>{displayName}<EditIcon onClick={profileContext.toggleVisible()}/></DisplayNameContainer> :\r\n        <FormContainer><FormInput name=\"displayName\" type=\"text\" handleChange={handleChange} handleSubmit={handleSubmit} value={replacement}/>\r\n        <CancelButtonWithTooltip onClick={handleCancel}>&#120299;<TooltipText>Cancel</TooltipText></CancelButtonWithTooltip></FormContainer>}\r\n        {\r\n            popUp ? <PopUpWindow><HeaderButtonsContainer><span onClick={cancelUpload}>&#120299;</span></HeaderButtonsContainer><ImageContainer>{image}</ImageContainer><CustomButton onClick={handleUpload} isUpload>Upload</CustomButton></PopUpWindow> : null\r\n        }\r\n        <ButtonsContainer>\r\n            <CustomButton>Change Display Icon <FileInput type=\"file\" onChange={handleSelect}/></CustomButton>\r\n        </ButtonsContainer>\r\n        <Decks activeDecks={activeDecks} changeActiveDecks={changeActiveDecks} isUser/>\r\n    </PersonalProfileContainer>\r\n}\r\n\r\nexport default withRouter(PersonalProfile);\r\n\r\n"]},"metadata":{},"sourceType":"module"}