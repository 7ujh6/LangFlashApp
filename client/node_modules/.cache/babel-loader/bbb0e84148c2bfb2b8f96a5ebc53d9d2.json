{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\src\\\\components\\\\profile-dropdown\\\\profile-dropdown.component.jsx\";\nimport React, { useContext } from 'react';\nimport { ProfileDropdownContainer } from './profile-dropdown.styles';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { fetchReferenceObject } from '../../firebase/firebase.utils';\nimport { useState } from 'react';\n\nclass ProfileDropdown extends React.Component {\n  constructor() {\n    super();\n    const {\n      friendsList\n    } = useContext(UserContext);\n    var activeFriendsSet = new Set();\n    this.state = {\n      activeFriends: []\n    };\n  } //I'm pretty sure this is wrong somehow but I have yet to find out \n\n\n  componentDidMount() {\n    this.friendsList.forEach(friend => fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\n      if (!this.activeFriendsSet.has(friend)) {\n        this.activeFriendsSet.add(friend);\n        this.setState({\n          activeFriends: [...this.state.activeFriends, friend]\n        });\n      } else {\n        this.activeFriendsSet.delete(friend);\n        this.setState({\n          activeFriends: this.state.activeFriends.filter(inactiveFriend => friend === inactiveFriend)\n        });\n      }\n    }));\n  }\n\n  render() {\n    //render the friendsList in the profile dropdown. \n    return /*#__PURE__*/React.createElement(ProfileDropdownContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nexport default ProfileDropdown;","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/src/components/profile-dropdown/profile-dropdown.component.jsx"],"names":["React","useContext","ProfileDropdownContainer","UserContext","fetchReferenceObject","useState","ProfileDropdown","Component","constructor","friendsList","activeFriendsSet","Set","state","activeFriends","componentDidMount","forEach","friend","child","onSnapshot","has","add","setState","delete","filter","inactiveFriend","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAA+B,OAA/B;AACA,SAAQC,wBAAR,QAAuC,2BAAvC;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,oBAAR,QAAmC,+BAAnC;AACA,SAAQC,QAAR,QAAuB,OAAvB;;AAGA,MAAMC,eAAN,SAA8BN,KAAK,CAACO,SAApC,CAA8C;AAE1CC,EAAAA,WAAW,GAAI;AACX;AAEA,UAAM;AAACC,MAAAA;AAAD,QAAgBR,UAAU,CAACE,WAAD,CAAhC;AACA,QAAIO,gBAAgB,GAAG,IAAIC,GAAJ,EAAvB;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE;AADN,KAAb;AAGH,GAXyC,CAa1C;;;AACAC,EAAAA,iBAAiB,GAAG;AACjB,SAAKL,WAAL,CAAiBM,OAAjB,CAAyBC,MAAM,IAAIZ,oBAAoB,CAACY,MAAD,CAApB,CAA6BC,KAA7B,CAAmC,gBAAnC,EAAqDC,UAArD,CAAgE,MAAM;AACrG,UAAI,CAAC,KAAKR,gBAAL,CAAsBS,GAAtB,CAA0BH,MAA1B,CAAL,EAAwC;AACnC,aAAKN,gBAAL,CAAsBU,GAAtB,CAA0BJ,MAA1B;AACA,aAAKK,QAAL,CAAc;AAACR,UAAAA,aAAa,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,aAAf,EAA8BG,MAA9B;AAAhB,SAAd;AACC,OAHN,MAGY;AACP,aAAKN,gBAAL,CAAsBY,MAAtB,CAA6BN,MAA7B;AACA,aAAKK,QAAL,CAAc;AAACR,UAAAA,aAAa,EAAE,KAAKD,KAAL,CAAWC,aAAX,CAAyBU,MAAzB,CAAgCC,cAAc,IAAIR,MAAM,KAAKQ,cAA7D;AAAhB,SAAd;AACH;AACJ,KARiC,CAAnC;AASF;;AAEDC,EAAAA,MAAM,GAAG;AAEL;AACA,wBAAO,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAGH;;AAhCyC;;AAmC9C,eAAenB,eAAf","sourcesContent":["import React, {useContext}from 'react';\r\nimport {ProfileDropdownContainer} from './profile-dropdown.styles';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {fetchReferenceObject} from '../../firebase/firebase.utils';\r\nimport {useState} from 'react';\r\n \r\n\r\nclass ProfileDropdown extends React.Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        const {friendsList} = useContext(UserContext);\r\n        var activeFriendsSet = new Set();\r\n\r\n        this.state = {\r\n            activeFriends: []\r\n        }    \r\n    }\r\n\r\n    //I'm pretty sure this is wrong somehow but I have yet to find out \r\n    componentDidMount() {\r\n       this.friendsList.forEach(friend => fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\r\n           if (!this.activeFriendsSet.has(friend)) {\r\n                this.activeFriendsSet.add(friend);\r\n                this.setState({activeFriends: [...this.state.activeFriends, friend]});\r\n                } else {\r\n                this.activeFriendsSet.delete(friend);\r\n                this.setState({activeFriends: this.state.activeFriends.filter(inactiveFriend => friend === inactiveFriend)})\r\n            }\r\n        }))\r\n    }   \r\n\r\n    render() {\r\n\r\n        //render the friendsList in the profile dropdown. \r\n        return <ProfileDropdownContainer>\r\n\r\n        </ProfileDropdownContainer>\r\n    }\r\n}\r\n\r\nexport default ProfileDropdown;"]},"metadata":{},"sourceType":"module"}