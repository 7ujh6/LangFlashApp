{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\browse-friends\\\\browse-friends.component.jsx\";\nimport React, { useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport ProfileTab from '../../components/profile-tab/profile-tab.component';\nimport CustomButton from '../custom-button/custom-button.component';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { firestore } from '../../firebase/firebase.utils';\nimport { BrowseFriendsContainer, TabBanner, DisplayContainer } from './browse-friends.styles';\n\nconst BrowseFriends = ({\n  history\n}) => {\n  const {\n    currentUser: {\n      id,\n      friendsList\n    }\n  } = useContext(UserContext);\n  const userArray = firestore.collection('/users').get().then(collection => {\n    const temp = [];\n    collection.forEach(document => {\n      temp.push(document.data());\n    });\n    return temp.filter(item => item.id !== id && !friendsList.find(friend => item.id === friend.currentUser.id)); //filter out your friends and yourself from the browse list\n  });\n\n  const handleClick = event => {\n    history.push(`/profile/:userId/${userArray[event.id].id}`);\n  }; //TODO design TabHeader --> TabBanner will be deleted once TabHeader is designed\n\n\n  return /*#__PURE__*/React.createElement(BrowseFriendsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(TabBanner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, \"Browse Users\"), userArray.map((user, idx) => /*#__PURE__*/React.createElement(DisplayContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(ProfileTab, {\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 57\n    }\n  }), /*#__PURE__*/React.createElement(CustomButton, {\n    id: idx,\n    onClick: handleClick,\n    isProfileStyles: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 82\n    }\n  }, \"View Profile\"))));\n};\n\nexport default withRouter(BrowseFriends);","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/browse-friends/browse-friends.component.jsx"],"names":["React","useContext","withRouter","ProfileTab","CustomButton","UserContext","firestore","BrowseFriendsContainer","TabBanner","DisplayContainer","BrowseFriends","history","currentUser","id","friendsList","userArray","collection","get","then","temp","forEach","document","push","data","filter","item","find","friend","handleClick","event","map","user","idx"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,UAAP,MAAuB,oDAAvB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,SAAR,QAAwB,+BAAxB;AACA,SAAQC,sBAAR,EAAgCC,SAAhC,EAA2CC,gBAA3C,QAAkE,yBAAlE;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAe;AAIjC,QAAM;AAACC,IAAAA,WAAW,EAAE;AAACC,MAAAA,EAAD;AAAKC,MAAAA;AAAL;AAAd,MAAmCb,UAAU,CAACI,WAAD,CAAnD;AACA,QAAMU,SAAS,GAAGT,SAAS,CAACU,UAAV,CAAqB,QAArB,EAA+BC,GAA/B,GAAqCC,IAArC,CAA2CF,UAAD,IAAgB;AACxE,UAAMG,IAAI,GAAG,EAAb;AACAH,IAAAA,UAAU,CAACI,OAAX,CAAoBC,QAAD,IAAc;AAACF,MAAAA,IAAI,CAACG,IAAL,CAAUD,QAAQ,CAACE,IAAT,EAAV;AAA2B,KAA7D;AACA,WAAOJ,IAAI,CAACK,MAAL,CAAaC,IAAD,IAAUA,IAAI,CAACZ,EAAL,KAAYA,EAAZ,IAAkB,CAACC,WAAW,CAACY,IAAZ,CAAkBC,MAAD,IAAYF,IAAI,CAACZ,EAAL,KAAYc,MAAM,CAACf,WAAP,CAAmBC,EAA5D,CAAzC,CAAP,CAHwE,CAIxE;AACH,GALiB,CAAlB;;AAOA,QAAMe,WAAW,GAAGC,KAAK,IAAI;AACzBlB,IAAAA,OAAO,CAACW,IAAR,CAAc,oBAAmBP,SAAS,CAACc,KAAK,CAAChB,EAAP,CAAT,CAAoBA,EAAG,EAAxD;AACH,GAFD,CAZiC,CAgBjC;;;AACA,sBAAO,oBAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADG,EAEFE,SAAS,CAACe,GAAV,CAAc,CAACC,IAAD,EAAOC,GAAP,kBAAe,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkB,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAED,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,eAA2C,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAEC,GAAlB;AAAuB,IAAA,OAAO,EAAEJ,WAAhC;AAA6C,IAAA,eAAe,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA3C,CAA7B,CAFE,CAAP;AAIH,CArBD;;AAuBA,eAAe1B,UAAU,CAACQ,aAAD,CAAzB","sourcesContent":["import React, {useContext} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport ProfileTab from '../../components/profile-tab/profile-tab.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {firestore} from '../../firebase/firebase.utils';\r\nimport {BrowseFriendsContainer, TabBanner, DisplayContainer} from './browse-friends.styles';\r\n\r\nconst BrowseFriends = ({history}) => {\r\n\r\n    \r\n\r\n    const {currentUser: {id, friendsList}} = useContext(UserContext);\r\n    const userArray = firestore.collection('/users').get().then((collection) => {\r\n        const temp = [];\r\n        collection.forEach((document) => {temp.push(document.data())}) \r\n        return temp.filter((item) => item.id !== id && !friendsList.find((friend) => item.id === friend.currentUser.id));\r\n        //filter out your friends and yourself from the browse list\r\n    })\r\n\r\n    const handleClick = event => {\r\n        history.push(`/profile/:userId/${userArray[event.id].id}`);\r\n    }\r\n   \r\n    //TODO design TabHeader --> TabBanner will be deleted once TabHeader is designed\r\n    return <BrowseFriendsContainer>\r\n        <TabBanner>Browse Users</TabBanner>\r\n        {userArray.map((user, idx) => <DisplayContainer><ProfileTab user={user}/><CustomButton id={idx} onClick={handleClick} isProfileStyles>View Profile</CustomButton></DisplayContainer>)}\r\n    </BrowseFriendsContainer>\r\n}\r\n\r\nexport default withRouter(BrowseFriends);"]},"metadata":{},"sourceType":"module"}