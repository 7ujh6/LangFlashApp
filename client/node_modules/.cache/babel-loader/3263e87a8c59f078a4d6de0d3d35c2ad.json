{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\decks\\\\decks.component.jsx\";\nimport React, { useState, useContext } from 'react';\nimport Card from '../card/card.component';\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\nimport FormInput from '../form-input/form-input.component';\nimport DecksButton from '../decks-button/decks-button.component';\nimport CardButton from '../card-button/card-button.component';\nimport CardForm from '../card-form/card-form.component';\nimport { DeckContext } from '../../providers/deck/deck.provider';\nimport { DecksContainer, ScrollWindow, DeckCell, DisplayTagWithTooltip, TooltipText, HeaderButtonsContainer, CancelContainer } from './decks.styles';\n\nconst Decks = ({\n  activeDecks,\n  changeActiveDecks,\n  isUser\n}) => {\n  const {\n    visible,\n    toggleVisible\n  } = useContext(DeckContext);\n  const [selectedDeck, setSelectedDeck] = useState(null);\n  const [popUp, triggerPopUp] = useState(false);\n  const [searchText, setSearchText] = useState(\"\");\n  const [frontSide, flipSides] = useState(true);\n  const [cardSubmission, setCardSubmission] = useState({\n    frontText: \"\",\n    backText: \"\",\n    tempFront: \"\",\n    tempBack: \"\",\n    stepNumber: 0\n  });\n\n  const handleSearch = event => {\n    setSearchText(event.target.value); //I think the filtering should be handled with onSubmit --> The data that we have to filter through could be large\n    //and doing a filter on every keystroke is probably inefficient at best\n    //const filteredMonsters = monsters.filter(monster => monster.name.toLowerCase().includes(searchField.toLowerCase()))\n    //<CardList monsters = {filteredMonsters}/> \n  };\n\n  const handleFlip = () => {\n    flipSides(!frontSide);\n  };\n\n  const handleRender = event => {\n    const {\n      id\n    } = event.target;\n    setSelectedDeck({\n      index: id,\n      deck: activeDecks[id]\n    });\n    triggerPopUp(!popUp);\n  };\n\n  const handlePopUpClose = () => {\n    const {\n      index,\n      deck\n    } = selectedDeck;\n    let newActiveDecks = activeDecks;\n    newActiveDecks[index] = deck;\n    triggerPopUp(!popUp);\n    if (isUser) changeActiveDecks(newActiveDecks);\n    setSelectedDeck(null);\n  };\n\n  const handleSubmission = event => {\n    const {\n      id,\n      value\n    } = event.target;\n\n    switch (id) {\n      case 1:\n        setCardSubmission({\n          frontText: value\n        });\n        break;\n\n      case 2:\n        setCardSubmission({\n          backText: value\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    if (id === 2) {\n      const {\n        frontText,\n        backText\n      } = cardSubmission;\n      const {\n        index,\n        deck\n      } = selectedDeck;\n      setSelectedDeck({\n        index: index,\n        deck: [...deck, {\n          frontText,\n          backText\n        }]\n      });\n      setCardSubmission({ ...cardSubmission,\n        frontText: \"\",\n        backText: \"\",\n        tempFront: \"\",\n        tempBack: \"\"\n      });\n    }\n\n    setCardSubmission({\n      stepNumber: (cardSubmission.stepNumber + 1) % 3\n    });\n  };\n\n  const handleChange = event => {\n    const {\n      id,\n      value\n    } = event.target;\n\n    switch (id) {\n      case 1:\n        setCardSubmission({\n          tempFront: value\n        });\n        break;\n\n      case 2:\n        setCardSubmission({\n          tempBack: value\n        });\n        break;\n\n      default:\n        break;\n    }\n  }; //will be appended to the Edit description and name buttons later\n\n\n  const handleDeckUpdate = event => {\n    const {\n      id,\n      name,\n      value\n    } = event;\n    let newActiveDecks = activeDecks;\n    if (!name) changeActiveDecks(newActiveDecks.push({\n      name: \"\",\n      description: \"\",\n      cards: []\n    }));else {\n      newActiveDecks[id] = {\n        [name]: value\n      };\n      changeActiveDecks(newActiveDecks);\n    }\n  }; //const handleCardUpdate = event => {} not a necessity may add this feature in the future to change text on existing\n  //cards\n\n\n  const handleCancel = () => {\n    setCardSubmission({\n      frontText: \"\",\n      backText: \"\",\n      tempFront: \"\",\n      tempBack: \"\",\n      stepNumber: 0\n    });\n  };\n\n  const handleDeckDeletion = event => {\n    const {\n      index\n    } = event.target;\n    changeActiveDecks(activeDecks.splice(index, 1));\n  };\n\n  const handleCardDeletion = event => {\n    const {\n      index\n    } = event.target;\n    setSelectedDeck({ ...selectedDeck,\n      deck: selectedDeck.deck.splice(index, 1)\n    });\n  };\n\n  const getCardElement = number => {\n    switch (number) {\n      case 0:\n        return /*#__PURE__*/React.createElement(CardButton, {\n          id: number,\n          onClick: handleSubmission,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 28\n          }\n        });\n\n      case 1:\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CancelContainer, {\n          onClick: handleCancel,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 30\n          }\n        }, \"\\uD835\\uDDEB\"), /*#__PURE__*/React.createElement(CardForm, {\n          id: number,\n          value: cardSubmission.tempFront,\n          onChange: handleChange,\n          onSubmit: handleSubmission,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 97\n          }\n        }));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CardForm, {\n          id: number,\n          value: cardSubmission.tempBack,\n          onChange: handleChange,\n          onSubmit: handleSubmission,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 30\n          }\n        }));\n\n      default:\n        break;\n    }\n  }; //will replace the button on this page with 'DeckButtons'\n  //implement searchbar-->FormInput later this would require me to replace the selectedDeck hook with its filtered\n  //form\n  //Need to do the same thing with Card that I did with deck to get the index of the card and then toggle depending\n  //on if the card was clicked or not. Clicking is going to display another div with the otherSides text on it\n  //need to pass whether the card is front or back to the card component in order to provide different styling \n  //TODO add a  card button: look at design need to center a plus sign in the middle of a div with a white\n  //background. On hover the opacity decreases/transparency increases the border is dotted and light grey\n  //looks in almost every way like a card component and is displayed in a grid as well-- look up plus sign glyph\n  //also need tooltip\n  //TODO create deck bubtton (3 white divs position right on top of eachother each div is more opaqaue than the one\n  //adjacent to it.) or just find and svg or image\n  //TODO convert png icon to a svg\n  //TODO ScrollWindow should probably be its own component and should have scrolling functionality\n  //PopUpScrollWindow?\n\n\n  return /*#__PURE__*/React.createElement(DecksContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(DecksButton, {\n    onClick: toggleVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 28\n    }\n  }), visible ? /*#__PURE__*/React.createElement(ScrollWindow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    type: \"search\",\n    placeholder: \"search\",\n    value: searchText,\n    onSubmit: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 34\n    }\n  }), popUp ? /*#__PURE__*/React.createElement(PopUpWindow, {\n    isCardPopUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(HeaderButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: handlePopUpClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 67\n    }\n  }, \"\\uD835\\uDDEB\")), selectedDeck.deck.cards.map((card, idx) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    id: idx,\n    onClick: handleFlip,\n    card: card,\n    frontSide: frontSide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 59\n    }\n  }), /*#__PURE__*/React.createElement(CancelContainer, {\n    onClick: handleCardDeletion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 134\n    }\n  }, \"\\uD835\\uDDEB\"))), isUser ? getCardElement() : null) : null, activeDecks.map((deck, idx) => /*#__PURE__*/React.createElement(DeckCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(DecksButton, {\n    id: idx,\n    onClick: handleRender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 52\n    }\n  }), /*#__PURE__*/React.createElement(DisplayTagWithTooltip, {\n    id: idx,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 98\n    }\n  }, selectedDeck.name ? selectedDeck.name : `Deck ${idx}`, /*#__PURE__*/React.createElement(TooltipText, {\n    id: idx,\n    name: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 197\n    }\n  }, selectedDeck.description ? selectedDeck.description : 'Add A Description')), /*#__PURE__*/React.createElement(CancelContainer, {\n    onClick: handleDeckDeletion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 351\n    }\n  }, \"\\uD835\\uDDEB\"))), isUser ? /*#__PURE__*/React.createElement(DecksButton, {\n    onClick: handleDeckUpdate,\n    isAdd: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }) : null) : null);\n};\n\nexport default Decks;","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/decks/decks.component.jsx"],"names":["React","useState","useContext","Card","PopUpWindow","FormInput","DecksButton","CardButton","CardForm","DeckContext","DecksContainer","ScrollWindow","DeckCell","DisplayTagWithTooltip","TooltipText","HeaderButtonsContainer","CancelContainer","Decks","activeDecks","changeActiveDecks","isUser","visible","toggleVisible","selectedDeck","setSelectedDeck","popUp","triggerPopUp","searchText","setSearchText","frontSide","flipSides","cardSubmission","setCardSubmission","frontText","backText","tempFront","tempBack","stepNumber","handleSearch","event","target","value","handleFlip","handleRender","id","index","deck","handlePopUpClose","newActiveDecks","handleSubmission","handleChange","handleDeckUpdate","name","push","description","cards","handleCancel","handleDeckDeletion","splice","handleCardDeletion","getCardElement","number","map","card","idx"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,QAA0C,OAA1C;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,0CAAxB;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,cAAR,EAAwBC,YAAxB,EAAsCC,QAAtC,EAAgDC,qBAAhD,EAAuEC,WAAvE,EACKC,sBADL,EAC6BC,eAD7B,QACmD,gBADnD;;AAGA,MAAMC,KAAK,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA,iBAAd;AAAiCC,EAAAA;AAAjC,CAAD,KAA8C;AAExD,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA;AAAV,MAA2BpB,UAAU,CAACO,WAAD,CAA3C;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCvB,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM,CAACwB,KAAD,EAAQC,YAAR,IAAwBzB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAAC0B,UAAD,EAAaC,aAAb,IAA8B3B,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC4B,SAAD,EAAYC,SAAZ,IAAyB7B,QAAQ,CAAC,IAAD,CAAvC;AACA,QAAM,CAAC8B,cAAD,EAAiBC,iBAAjB,IAAsC/B,QAAQ,CAAC;AAACgC,IAAAA,SAAS,EAAE,EAAZ;AAAgBC,IAAAA,QAAQ,EAAE,EAA1B;AAA8BC,IAAAA,SAAS,EAAE,EAAzC;AAChDC,IAAAA,QAAQ,EAAE,EADsC;AAClCC,IAAAA,UAAU,EAAE;AADsB,GAAD,CAApD;;AAGA,QAAMC,YAAY,GAAGC,KAAK,IAAI;AAC1BX,IAAAA,aAAa,CAACW,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CAD0B,CAG1B;AACA;AAEA;AACA;AACH,GARD;;AASA,QAAMC,UAAU,GAAG,MAAM;AACrBZ,IAAAA,SAAS,CAAC,CAACD,SAAF,CAAT;AACH,GAFD;;AAIA,QAAMc,YAAY,GAAGJ,KAAK,IAAI;AAC1B,UAAM;AAACK,MAAAA;AAAD,QAAOL,KAAK,CAACC,MAAnB;AACAhB,IAAAA,eAAe,CAAC;AAACqB,MAAAA,KAAK,EAAED,EAAR;AAAYE,MAAAA,IAAI,EAAE5B,WAAW,CAAC0B,EAAD;AAA7B,KAAD,CAAf;AACAlB,IAAAA,YAAY,CAAC,CAACD,KAAF,CAAZ;AACH,GAJD;;AAKA,QAAMsB,gBAAgB,GAAG,MAAM;AAC3B,UAAM;AAACF,MAAAA,KAAD;AAAQC,MAAAA;AAAR,QAAgBvB,YAAtB;AACA,QAAIyB,cAAc,GAAG9B,WAArB;AACA8B,IAAAA,cAAc,CAACH,KAAD,CAAd,GAAwBC,IAAxB;AAEApB,IAAAA,YAAY,CAAC,CAACD,KAAF,CAAZ;AACA,QAAGL,MAAH,EAAWD,iBAAiB,CAAC6B,cAAD,CAAjB;AACXxB,IAAAA,eAAe,CAAC,IAAD,CAAf;AACH,GARD;;AAUA,QAAMyB,gBAAgB,GAAGV,KAAK,IAAI;AAC9B,UAAM;AAACK,MAAAA,EAAD;AAAKH,MAAAA;AAAL,QAAcF,KAAK,CAACC,MAA1B;;AACA,YAAOI,EAAP;AACI,WAAK,CAAL;AAAQZ,QAAAA,iBAAiB,CAAC;AAACC,UAAAA,SAAS,EAAEQ;AAAZ,SAAD,CAAjB;AACJ;;AACJ,WAAK,CAAL;AAAQT,QAAAA,iBAAiB,CAAC;AAACE,UAAAA,QAAQ,EAAEO;AAAX,SAAD,CAAjB;AACJ;;AACJ;AACI;AANR;;AASA,QAAIG,EAAE,KAAK,CAAX,EAAc;AACV,YAAM;AAACX,QAAAA,SAAD;AAAYC,QAAAA;AAAZ,UAAwBH,cAA9B;AACA,YAAM;AAACc,QAAAA,KAAD;AAAQC,QAAAA;AAAR,UAAgBvB,YAAtB;AAEAC,MAAAA,eAAe,CAAC;AAACqB,QAAAA,KAAK,EAAEA,KAAR;AAAeC,QAAAA,IAAI,EAAE,CAAC,GAAGA,IAAJ,EAAU;AAACb,UAAAA,SAAD;AAAYC,UAAAA;AAAZ,SAAV;AAArB,OAAD,CAAf;AACAF,MAAAA,iBAAiB,CAAC,EAAC,GAAGD,cAAJ;AAAoBE,QAAAA,SAAS,EAAE,EAA/B;AAAmCC,QAAAA,QAAQ,EAAE,EAA7C;AAAiDC,QAAAA,SAAS,EAAE,EAA5D;AAAgEC,QAAAA,QAAQ,EAAC;AAAzE,OAAD,CAAjB;AACH;;AAEDJ,IAAAA,iBAAiB,CAAC;AAACK,MAAAA,UAAU,EAAE,CAACN,cAAc,CAACM,UAAf,GAA4B,CAA7B,IAAkC;AAA/C,KAAD,CAAjB;AACH,GApBD;;AAsBA,QAAMa,YAAY,GAAGX,KAAK,IAAI;AAC1B,UAAM;AAACK,MAAAA,EAAD;AAAKH,MAAAA;AAAL,QAAcF,KAAK,CAACC,MAA1B;;AACA,YAAOI,EAAP;AACI,WAAK,CAAL;AAAQZ,QAAAA,iBAAiB,CAAC;AAACG,UAAAA,SAAS,EAAEM;AAAZ,SAAD,CAAjB;AACJ;;AACJ,WAAK,CAAL;AAAQT,QAAAA,iBAAiB,CAAC;AAACI,UAAAA,QAAQ,EAAEK;AAAX,SAAD,CAAjB;AACJ;;AACJ;AACI;AANR;AAQH,GAVD,CA5DwD,CAwExD;;;AAEA,QAAMU,gBAAgB,GAAGZ,KAAK,IAAI;AAC/B,UAAM;AAACK,MAAAA,EAAD;AAAKQ,MAAAA,IAAL;AAAWX,MAAAA;AAAX,QAAoBF,KAA1B;AACA,QAAIS,cAAc,GAAG9B,WAArB;AAEA,QAAG,CAACkC,IAAJ,EAAUjC,iBAAiB,CAAC6B,cAAc,CAACK,IAAf,CAAoB;AAACD,MAAAA,IAAI,EAAE,EAAP;AAAWE,MAAAA,WAAW,EAAE,EAAxB;AAA4BC,MAAAA,KAAK,EAAE;AAAnC,KAApB,CAAD,CAAjB,CAAV,KACK;AACAP,MAAAA,cAAc,CAACJ,EAAD,CAAd,GAAqB;AAAC,SAACQ,IAAD,GAASX;AAAV,OAArB;AACAtB,MAAAA,iBAAiB,CAAC6B,cAAD,CAAjB;AACH;AACJ,GATD,CA1EwD,CAqFxD;AACA;;;AAEA,QAAMQ,YAAY,GAAG,MAAM;AACvBxB,IAAAA,iBAAiB,CAAC;AAACC,MAAAA,SAAS,EAAE,EAAZ;AAAgBC,MAAAA,QAAQ,EAAE,EAA1B;AAA8BC,MAAAA,SAAS,EAAE,EAAzC;AACjBC,MAAAA,QAAQ,EAAE,EADO;AACHC,MAAAA,UAAU,EAAE;AADT,KAAD,CAAjB;AAEH,GAHD;;AAKA,QAAMoB,kBAAkB,GAAGlB,KAAK,IAAI;AAChC,UAAM;AAACM,MAAAA;AAAD,QAAUN,KAAK,CAACC,MAAtB;AACArB,IAAAA,iBAAiB,CAACD,WAAW,CAACwC,MAAZ,CAAmBb,KAAnB,EAA0B,CAA1B,CAAD,CAAjB;AAEH,GAJD;;AAMA,QAAMc,kBAAkB,GAAGpB,KAAK,IAAI;AAChC,UAAM;AAACM,MAAAA;AAAD,QAAUN,KAAK,CAACC,MAAtB;AACAhB,IAAAA,eAAe,CAAC,EAAC,GAAGD,YAAJ;AAAkBuB,MAAAA,IAAI,EAAEvB,YAAY,CAACuB,IAAb,CAAkBY,MAAlB,CAAyBb,KAAzB,EAAgC,CAAhC;AAAxB,KAAD,CAAf;AACH,GAHD;;AAKA,QAAMe,cAAc,GAAGC,MAAM,IAAI;AAC7B,YAAQA,MAAR;AAEI,WAAK,CAAL;AAAQ,4BAAO,oBAAC,UAAD;AAAY,UAAA,EAAE,EAAEA,MAAhB;AAAwB,UAAA,OAAO,EAAEZ,gBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AACR,WAAK,CAAL;AAAQ,4BAAO,uDAAE,oBAAC,eAAD;AAAiB,UAAA,OAAO,EAAEO,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAF,eAAqE,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAEK,MAAd;AAAsB,UAAA,KAAK,EAAE9B,cAAc,CAACI,SAA5C;AAChF,UAAA,QAAQ,EAAEe,YADsE;AACxD,UAAA,QAAQ,EAAED,gBAD8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAArE,CAAP;;AAER,WAAK,CAAL;AAAQ,4BAAO,uDAAE,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAEY,MAAd;AAAsB,UAAA,KAAK,EAAE9B,cAAc,CAACK,QAA5C;AACb,UAAA,QAAQ,EAAEc,YADG;AACW,UAAA,QAAQ,EAAED,gBADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAF,CAAP;;AAER;AACI;AARR;AAUH,GAXD,CAxGwD,CAoHxD;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;;;AAEA,sBAAO,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgB,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAE3B,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhB,EACFD,OAAO,gBAAG,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAc,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,QAAhB;AAAyB,IAAA,WAAW,EAAC,QAArC;AAA8C,IAAA,KAAK,EAAEM,UAArD;AAAiE,IAAA,QAAQ,EAAE,IAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAd,EACVF,KAAK,gBAAG,oBAAC,WAAD;AAAa,IAAA,WAAW,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAyB,oBAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwB;AAAM,IAAA,OAAO,EAAEsB,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAxB,CAAzB,EACJxB,YAAY,CAACuB,IAAb,CAAkBS,KAAlB,CAAwBO,GAAxB,CAA4B,CAACC,IAAD,EAAOC,GAAP,kBAAe,uDAAE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAEA,GAAV;AAAe,IAAA,OAAO,EAAEtB,UAAxB;AAAoC,IAAA,IAAI,EAAIqB,IAA5C;AAAkD,IAAA,SAAS,EAAIlC,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAF,eAA6E,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAE8B,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA7E,CAA3C,CADI,EAEJvC,MAAM,GAAGwC,cAAc,EAAjB,GAAsB,IAFxB,CAAH,GAGW,IAJN,EAKT1C,WAAW,CAAC4C,GAAZ,CAAgB,CAAChB,IAAD,EAAOkB,GAAP,kBAAe,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAU,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAEA,GAAjB;AAAsB,IAAA,OAAO,EAAErB,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAV,eAAwD,oBAAC,qBAAD;AAAuB,IAAA,EAAE,EAAEqB,GAA3B;AAAgC,IAAA,IAAI,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6CzC,YAAY,CAAC6B,IAAb,GAAoB7B,YAAY,CAAC6B,IAAjC,GAAyC,QAAOY,GAAI,EAAjG,eAAmG,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAEA,GAAjB;AAAsB,IAAA,IAAI,EAAC,aAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0CzC,YAAY,CAAC+B,WAAb,GAA2B/B,YAAY,CAAC+B,WAAxC,GAAsD,mBAAhG,CAAnG,CAAxD,eAAqT,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAEG,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAArT,CAA/B,CALS,EAMVrC,MAAM,gBAAG,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAE+B,gBAAtB;AAAwC,IAAA,KAAK,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAsD,IANlD,CAAH,GAOU,IARf,CAAP;AAUH,CAnJD;;AAqJA,eAAelC,KAAf","sourcesContent":["import React, {useState, useContext} from 'react'\r\nimport Card from '../card/card.component';\r\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport DecksButton from '../decks-button/decks-button.component';\r\nimport CardButton from '../card-button/card-button.component';\r\nimport CardForm from '../card-form/card-form.component';\r\nimport {DeckContext} from '../../providers/deck/deck.provider';\r\nimport {DecksContainer, ScrollWindow, DeckCell, DisplayTagWithTooltip, TooltipText,\r\n     HeaderButtonsContainer, CancelContainer} from './decks.styles';\r\n\r\nconst Decks = ({activeDecks, changeActiveDecks, isUser}) => {\r\n\r\n    const {visible, toggleVisible} = useContext(DeckContext);\r\n    const [selectedDeck, setSelectedDeck] = useState(null);\r\n    const [popUp, triggerPopUp] = useState(false);\r\n    const [searchText, setSearchText] = useState(\"\");\r\n    const [frontSide, flipSides] = useState(true);\r\n    const [cardSubmission, setCardSubmission] = useState({frontText: \"\", backText: \"\", tempFront: \"\",\r\n         tempBack: \"\", stepNumber: 0})\r\n\r\n    const handleSearch = event => {\r\n        setSearchText(event.target.value);\r\n\r\n        //I think the filtering should be handled with onSubmit --> The data that we have to filter through could be large\r\n        //and doing a filter on every keystroke is probably inefficient at best\r\n\r\n        //const filteredMonsters = monsters.filter(monster => monster.name.toLowerCase().includes(searchField.toLowerCase()))\r\n        //<CardList monsters = {filteredMonsters}/> \r\n    }\r\n    const handleFlip = () => {\r\n        flipSides(!frontSide);\r\n    }\r\n\r\n    const handleRender = event => {\r\n        const {id} = event.target;\r\n        setSelectedDeck({index: id, deck: activeDecks[id]});\r\n        triggerPopUp(!popUp);\r\n    }\r\n    const handlePopUpClose = () => {\r\n        const {index, deck} = selectedDeck;\r\n        let newActiveDecks = activeDecks;\r\n        newActiveDecks[index] = deck;\r\n\r\n        triggerPopUp(!popUp);\r\n        if(isUser) changeActiveDecks(newActiveDecks);\r\n        setSelectedDeck(null);\r\n    }\r\n    \r\n    const handleSubmission = event => {\r\n        const {id, value} = event.target;\r\n        switch(id) {\r\n            case 1: setCardSubmission({frontText: value})\r\n                break;\r\n            case 2: setCardSubmission({backText: value})\r\n                break;\r\n            default: \r\n                break;\r\n        }\r\n\r\n        if (id === 2) {\r\n            const {frontText, backText} = cardSubmission;\r\n            const {index, deck} = selectedDeck;\r\n\r\n            setSelectedDeck({index: index, deck: [...deck, {frontText, backText}]})\r\n            setCardSubmission({...cardSubmission, frontText: \"\", backText: \"\", tempFront: \"\", tempBack:\"\"})\r\n        }\r\n\r\n        setCardSubmission({stepNumber: (cardSubmission.stepNumber + 1) % 3 })\r\n    }\r\n\r\n    const handleChange = event => {\r\n        const {id, value} = event.target;\r\n        switch(id) {\r\n            case 1: setCardSubmission({tempFront: value})\r\n                break;\r\n            case 2: setCardSubmission({tempBack: value})\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    //will be appended to the Edit description and name buttons later\r\n\r\n    const handleDeckUpdate = event => {\r\n       const {id, name, value} = event;\r\n       let newActiveDecks = activeDecks;\r\n\r\n       if(!name) changeActiveDecks(newActiveDecks.push({name: \"\", description: \"\", cards: []}))  \r\n       else {\r\n            newActiveDecks[id] = {[name] : value};\r\n            changeActiveDecks(newActiveDecks)\r\n        }                                                     \r\n    }\r\n\r\n    //const handleCardUpdate = event => {} not a necessity may add this feature in the future to change text on existing\r\n    //cards\r\n\r\n    const handleCancel = () => {\r\n        setCardSubmission({frontText: \"\", backText: \"\", tempFront: \"\",\r\n         tempBack: \"\", stepNumber: 0})\r\n    }\r\n    \r\n    const handleDeckDeletion = event => {\r\n        const {index} = event.target;\r\n        changeActiveDecks(activeDecks.splice(index, 1));\r\n        \r\n    }\r\n\r\n    const handleCardDeletion = event => {\r\n        const {index} = event.target;\r\n        setSelectedDeck({...selectedDeck, deck: selectedDeck.deck.splice(index, 1)});\r\n    }\r\n\r\n    const getCardElement = number => {\r\n        switch (number) {\r\n\r\n            case 0: return <CardButton id={number} onClick={handleSubmission}/>\r\n            case 1: return <><CancelContainer onClick={handleCancel}>&#120299;</CancelContainer><CardForm id={number} value={cardSubmission.tempFront}\r\n                onChange={handleChange} onSubmit={handleSubmission}/></>\r\n            case 2: return <><CardForm id={number} value={cardSubmission.tempBack}\r\n                onChange={handleChange} onSubmit={handleSubmission}/></>\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    //will replace the button on this page with 'DeckButtons'\r\n    //implement searchbar-->FormInput later this would require me to replace the selectedDeck hook with its filtered\r\n    //form\r\n\r\n    //Need to do the same thing with Card that I did with deck to get the index of the card and then toggle depending\r\n    //on if the card was clicked or not. Clicking is going to display another div with the otherSides text on it\r\n    //need to pass whether the card is front or back to the card component in order to provide different styling \r\n\r\n    //TODO add a  card button: look at design need to center a plus sign in the middle of a div with a white\r\n    //background. On hover the opacity decreases/transparency increases the border is dotted and light grey\r\n    //looks in almost every way like a card component and is displayed in a grid as well-- look up plus sign glyph\r\n    //also need tooltip\r\n\r\n    //TODO create deck bubtton (3 white divs position right on top of eachother each div is more opaqaue than the one\r\n    //adjacent to it.) or just find and svg or image\r\n\r\n    //TODO convert png icon to a svg\r\n\r\n    //TODO ScrollWindow should probably be its own component and should have scrolling functionality\r\n    //PopUpScrollWindow?\r\n\r\n    return <DecksContainer><DecksButton onClick={toggleVisible}/>\r\n        {visible ? <ScrollWindow><FormInput type='search' placeholder=\"search\" value={searchText} onSubmit={null}/>\r\n        {popUp ? <PopUpWindow isCardPopUp><HeaderButtonsContainer><span onClick={handlePopUpClose}>&#120299;</span></HeaderButtonsContainer>\r\n            {selectedDeck.deck.cards.map((card, idx) => <><Card id={idx} onClick={handleFlip} card = {card} frontSide = {frontSide}/><CancelContainer onClick={handleCardDeletion}>&#120299;</CancelContainer></>)}\r\n            {isUser ? getCardElement() : null}\r\n        </PopUpWindow> : null}\r\n        { activeDecks.map((deck, idx) => <DeckCell><DecksButton id={idx} onClick={handleRender}/><DisplayTagWithTooltip id={idx} name=\"name\">{selectedDeck.name ? selectedDeck.name : `Deck ${idx}`}<TooltipText id={idx} name=\"description\">{selectedDeck.description ? selectedDeck.description : 'Add A Description'}</TooltipText></DisplayTagWithTooltip><CancelContainer onClick={handleDeckDeletion}>&#120299;</CancelContainer></DeckCell>)}\r\n        {isUser ? <DecksButton onClick={handleDeckUpdate} isAdd /> : null}\r\n        </ScrollWindow> : null}\r\n        </DecksContainer>\r\n}\r\n\r\nexport default Decks;"]},"metadata":{},"sourceType":"module"}