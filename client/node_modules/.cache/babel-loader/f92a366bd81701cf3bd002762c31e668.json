{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\personal-profile\\\\personal-profile.component.jsx\";\nimport React, { useState, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { ProfileContext } from '../../providers/profile/profile.provider';\nimport CustomButton from '../custom-button/custom-button.component';\nimport Decks from '../decks/decks.component';\nimport FormInput from '../form-input/form-input.component';\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\nimport { ReactComponent as EditIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/pencil-edit-button.svg\";\nimport { PersonalProfileContainer, ProfileIconContainer, ButtonsContainer, DisplayNameContainer, CancelButtonWithTooltip, TooltipText, FormContainer, FileInput, HeaderButtonsContainer, ImageContainer } from './personal-profile.styles';\n\nconst PersonalProfile = ({\n  match\n}) => {\n  const {\n    currentUser: {\n      displayIcon,\n      displayName,\n      activeDecks\n    },\n    changeDisplayName,\n    changeActiveDecks,\n    changeDisplayIcon\n  } = useContext(UserContext);\n  const {\n    visible,\n    toggleVisible\n  } = useContext(ProfileContext);\n  const [replacement, setReplacement] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [popUp, setPopUp] = useState(false);\n\n  const handleSubmit = event => {\n    if (event.key === 'Enter') {\n      changeDisplayName(replacement);\n      setReplacement(\"\");\n      toggleVisible();\n    }\n  };\n\n  const handleChange = event => {\n    const {\n      value\n    } = event.target;\n    setReplacement(value);\n  };\n\n  const handleCancel = event => {\n    setReplacement(\"\");\n    toggleVisible();\n  };\n\n  const handleSelect = event => {\n    if (event.target.files[0]) {\n      const reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n\n      reader.onloadend = () => setImage(reader.result);\n\n      setPopUp(!popUp);\n    }\n  };\n\n  const cancelUpload = event => {\n    setImage(null);\n    setPopUp(!popUp);\n  };\n\n  const handleUpload = event => {\n    changeDisplayIcon(image);\n    setImage(null);\n    setPopUp(!popUp);\n  };\n\n  return /*#__PURE__*/React.createElement(PersonalProfileContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }, \"popUp ? \", /*#__PURE__*/React.createElement(PopUpWindow, {\n    cancelUpload: cancelUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(HeaderButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 58\n    }\n  }), /*#__PURE__*/React.createElement(ImageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 107\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    height: \"250\",\n    width: \"250\",\n    alt: \"new-profile-display\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 123\n    }\n  })), /*#__PURE__*/React.createElement(CustomButton, {\n    style: {\n      position: \"relative\",\n      right: \"-85px\"\n    },\n    onClick: handleUpload,\n    isUpload: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 209\n    }\n  }, \"Upload\")), \" :\", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProfileIconContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"profile-icon\",\n    width: \"100\",\n    height: \"100\",\n    src: displayIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  })), visible ? /*#__PURE__*/React.createElement(DisplayNameContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      margin: \"30px\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 42\n    }\n  }, displayName), /*#__PURE__*/React.createElement(EditIcon, {\n    style: {\n      width: \"15px\",\n      height: \"15px\",\n      cursor: \"pointer\"\n    },\n    onClick: toggleVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 114\n    }\n  })) : /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    style: {\n      margin: \"0px 0px 0px 0px\"\n    },\n    name: \"displayName\",\n    placeholder: \"enter new display name\",\n    type: \"text\",\n    handleChange: handleChange,\n    onKeyDown: handleSubmit,\n    value: replacement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(CancelButtonWithTooltip, {\n    onClick: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"\\uD835\\uDDEB\", /*#__PURE__*/React.createElement(TooltipText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 66\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(ButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Change Display Icon \", /*#__PURE__*/React.createElement(FileInput, {\n    type: \"file\",\n    onChange: handleSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 47\n    }\n  }))), /*#__PURE__*/React.createElement(Decks, {\n    activeDecks: activeDecks,\n    changeActiveDecks: changeActiveDecks,\n    isUser: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default withRouter(PersonalProfile);","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/personal-profile/personal-profile.component.jsx"],"names":["React","useState","useContext","withRouter","UserContext","ProfileContext","CustomButton","Decks","FormInput","PopUpWindow","PersonalProfileContainer","ProfileIconContainer","ButtonsContainer","DisplayNameContainer","CancelButtonWithTooltip","TooltipText","FormContainer","FileInput","HeaderButtonsContainer","ImageContainer","PersonalProfile","match","currentUser","displayIcon","displayName","activeDecks","changeDisplayName","changeActiveDecks","changeDisplayIcon","visible","toggleVisible","replacement","setReplacement","image","setImage","popUp","setPopUp","handleSubmit","event","key","handleChange","value","target","handleCancel","handleSelect","files","reader","FileReader","readAsDataURL","onloadend","result","cancelUpload","handleUpload","position","right","margin","textAlign","width","height","cursor"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {ProfileContext} from '../../providers/profile/profile.provider';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport Decks from '../decks/decks.component';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport PopUpWindow from '../pop-up-window/pop-up-window.component';\r\nimport {ReactComponent as EditIcon} from '../../assets/pencil-edit-button.svg'\r\nimport {PersonalProfileContainer, ProfileIconContainer, ButtonsContainer, DisplayNameContainer,\r\nCancelButtonWithTooltip, TooltipText, FormContainer, FileInput, HeaderButtonsContainer,\r\nImageContainer} from './personal-profile.styles'\r\n\r\n\r\nconst PersonalProfile = ({match}) => {\r\n    const {currentUser: {displayIcon, displayName, activeDecks}, changeDisplayName, changeActiveDecks, changeDisplayIcon} = useContext(UserContext);\r\n    \r\n    const {visible, toggleVisible} = useContext(ProfileContext);\r\n\r\n    const [replacement, setReplacement] = useState(\"\");\r\n    const [image, setImage] = useState(null);\r\n    const [popUp, setPopUp] = useState(false);\r\n\r\n\r\n    const handleSubmit = event => {\r\n        \r\n\r\n        if (event.key === 'Enter') {\r\n            changeDisplayName(replacement);\r\n            setReplacement(\"\");\r\n            toggleVisible();      \r\n          }\r\n    }\r\n\r\n    const handleChange = event => {\r\n        const {value} = event.target;\r\n        setReplacement(value);\r\n    }\r\n\r\n    const handleCancel = event => {\r\n        setReplacement(\"\");\r\n        toggleVisible();\r\n    }\r\n    const handleSelect = event => {\r\n        if (event.target.files[0]) {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(event.target.files[0]);\r\n            reader.onloadend = () => setImage(reader.result);\r\n            setPopUp(!popUp);\r\n        }\r\n    }\r\n\r\n    const cancelUpload = event => {\r\n        setImage(null);\r\n        setPopUp(!popUp);\r\n    }\r\n\r\n    const handleUpload = event => {\r\n        changeDisplayIcon(image);\r\n        setImage(null);\r\n        setPopUp(!popUp);\r\n    }\r\n\r\n    return <PersonalProfileContainer>\r\n        popUp ? <PopUpWindow cancelUpload={cancelUpload}><HeaderButtonsContainer></HeaderButtonsContainer><ImageContainer><img src={image} height=\"250\" width=\"250\" alt=\"new-profile-display\"/></ImageContainer><CustomButton style={{position: \"relative\",  right: \"-85px\"}} onClick={handleUpload} isUpload>Upload</CustomButton></PopUpWindow> : \r\n        <><ProfileIconContainer><img alt='profile-icon' width='100' height='100' src={displayIcon} /></ProfileIconContainer>\r\n        {visible ? <DisplayNameContainer><span style={{margin: \"30px\", textAlign: \"center\"}}>{displayName}</span><EditIcon style={{width:\"15px\", height:\"15px\", cursor:\"pointer\"}} onClick={toggleVisible}/></DisplayNameContainer> \r\n        : <FormContainer><FormInput style={{margin: \"0px 0px 0px 0px\"}} name=\"displayName\" placeholder=\"enter new display name\" type=\"text\" handleChange={handleChange} onKeyDown={handleSubmit}  value={replacement}/>\r\n        <CancelButtonWithTooltip onClick={handleCancel}>&#120299;<TooltipText>Cancel</TooltipText></CancelButtonWithTooltip></FormContainer>}\r\n        <ButtonsContainer>\r\n            <CustomButton>Change Display Icon <FileInput type=\"file\" onChange={handleSelect}/></CustomButton>\r\n        </ButtonsContainer>\r\n        <Decks activeDecks={activeDecks} changeActiveDecks={changeActiveDecks} isUser/></>\r\n    </PersonalProfileContainer>\r\n}\r\n\r\nexport default withRouter(PersonalProfile);\r\n\r\n"]},"metadata":{},"sourceType":"module"}