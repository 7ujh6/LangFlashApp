{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\src\\\\components\\\\profile-dropdown\\\\profile-dropdown.component.jsx\";\nimport React, { useContext } from 'react';\nimport { ProfileDropdownContainer } from './profile-dropdown.styles';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { ProfileDisplayContext } from '../../providers/profile-display/profile-display.provider';\nimport { fetchReferenceObject } from '../../firebase/firebase.utils';\n\nclass ProfileDropdown extends React.Component {\n  constructor() {\n    super();\n    var {\n      friendsList\n    } = useContext(UserContext);\n    var activeFriendsSet = new Set();\n    this.state = {\n      activeFriends: []\n    };\n  } //I'm pretty sure this is wrong somehow but I have yet to find out \n\n\n  componentDidMount() {\n    var {\n      friendsList,\n      activeFriendsSet\n    } = this;\n    const {\n      activeFriends\n    } = this.state;\n    this.friendsList.forEach(async friend => await fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\n      if (!activeFriendsSet.has(friend)) {\n        activeFriendsSet.add(friend);\n        this.setState({\n          activeFriends: [...activeFriends, friend]\n        });\n      } else {\n        activeFriendsSet.delete(friend);\n        this.setState({\n          activeFriends: activeFriends.filter(inactiveFriend => friend === inactiveFriend)\n        });\n      }\n    }));\n  }\n\n  render() {\n    //render the friendsList in the profile dropdown. \n    return /*#__PURE__*/React.createElement(ProfileDropdownContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 16\n      }\n    }, \"Profile!!!\");\n  }\n\n}\n\nexport default ProfileDropdown;","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/src/components/profile-dropdown/profile-dropdown.component.jsx"],"names":["React","useContext","ProfileDropdownContainer","UserContext","ProfileDisplayContext","fetchReferenceObject","ProfileDropdown","Component","constructor","friendsList","activeFriendsSet","Set","state","activeFriends","componentDidMount","forEach","friend","child","onSnapshot","has","add","setState","delete","filter","inactiveFriend","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAAQC,wBAAR,QAAuC,2BAAvC;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,qBAAR,QAAoC,0DAApC;AACA,SAAQC,oBAAR,QAAmC,+BAAnC;;AAGA,MAAMC,eAAN,SAA8BN,KAAK,CAACO,SAApC,CAA8C;AAE1CC,EAAAA,WAAW,GAAI;AACX;AAEA,QAAI;AAACC,MAAAA;AAAD,QAAgBR,UAAU,CAACE,WAAD,CAA9B;AACA,QAAIO,gBAAgB,GAAG,IAAIC,GAAJ,EAAvB;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE;AADN,KAAb;AAGH,GAXyC,CAa1C;;;AACAC,EAAAA,iBAAiB,GAAG;AAChB,QAAI;AAACL,MAAAA,WAAD;AAAcC,MAAAA;AAAd,QAAkC,IAAtC;AACA,UAAM;AAACG,MAAAA;AAAD,QAAkB,KAAKD,KAA7B;AAED,SAAKH,WAAL,CAAiBM,OAAjB,CAAyB,MAAMC,MAAN,IAAgB,MAAMX,oBAAoB,CAACW,MAAD,CAApB,CAA6BC,KAA7B,CAAmC,gBAAnC,EAAqDC,UAArD,CAAgE,MAAM;AACjH,UAAI,CAACR,gBAAgB,CAACS,GAAjB,CAAqBH,MAArB,CAAL,EAAmC;AAC9BN,QAAAA,gBAAgB,CAACU,GAAjB,CAAqBJ,MAArB;AACA,aAAKK,QAAL,CAAc;AAACR,UAAAA,aAAa,EAAE,CAAC,GAAGA,aAAJ,EAAmBG,MAAnB;AAAhB,SAAd;AACC,OAHN,MAGY;AACPN,QAAAA,gBAAgB,CAACY,MAAjB,CAAwBN,MAAxB;AACA,aAAKK,QAAL,CAAc;AAACR,UAAAA,aAAa,EAAEA,aAAa,CAACU,MAAd,CAAqBC,cAAc,IAAIR,MAAM,KAAKQ,cAAlD;AAAhB,SAAd;AACH;AACJ,KAR6C,CAA/C;AASF;;AAEDC,EAAAA,MAAM,GAAG;AAEL;AACA,wBAAO,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACH;;AAjCyC;;AAoC9C,eAAenB,eAAf","sourcesContent":["import React, {useContext} from 'react';\r\nimport {ProfileDropdownContainer} from './profile-dropdown.styles';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {ProfileDisplayContext} from '../../providers/profile-display/profile-display.provider';\r\nimport {fetchReferenceObject} from '../../firebase/firebase.utils';\r\n \r\n\r\nclass ProfileDropdown extends React.Component {\r\n\r\n    constructor () {\r\n        super();\r\n\r\n        var {friendsList} = useContext(UserContext);\r\n        var activeFriendsSet = new Set();\r\n\r\n        this.state = {\r\n            activeFriends: []\r\n        }    \r\n    }\r\n\r\n    //I'm pretty sure this is wrong somehow but I have yet to find out \r\n    componentDidMount() {\r\n        var {friendsList, activeFriendsSet} = this;\r\n        const {activeFriends} = this.state;\r\n\r\n       this.friendsList.forEach(async friend => await fetchReferenceObject(friend).child('activityStatus').onSnapshot(() => {\r\n           if (!activeFriendsSet.has(friend)) {\r\n                activeFriendsSet.add(friend);\r\n                this.setState({activeFriends: [...activeFriends, friend]});\r\n                } else {\r\n                activeFriendsSet.delete(friend);\r\n                this.setState({activeFriends: activeFriends.filter(inactiveFriend => friend === inactiveFriend)})\r\n            }\r\n        }))\r\n    }   \r\n\r\n    render() {\r\n\r\n        //render the friendsList in the profile dropdown. \r\n        return <ProfileDropdownContainer>Profile!!!</ProfileDropdownContainer>\r\n    }\r\n}\r\n\r\nexport default ProfileDropdown;"]},"metadata":{},"sourceType":"module"}