{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Documents\\\\PortfolioProjects\\\\VentilatorDonationApp\\\\ventilator-donation\\\\client\\\\src\\\\components\\\\profile-dropdown\\\\profile-dropdown.component.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport ProfileTab from '../profile-tab/profile-tab.component';\nimport { ProfileDropdownContainer, LabelContainer, DropdownLink } from './profile-dropdown.styles';\nimport { UserContext } from '../../providers/user/user.provider';\nimport { ProfileDisplayContext } from '../../providers/profile-display/profile-display.provider';\nimport { auth } from '../../firebase/firebase.utils';\n\nconst ProfileDropdown = ({\n  history\n}) => {\n  const {\n    friendsList\n  } = useContext(UserContext);\n  const {\n    activeFriends,\n    fetchActiveFriends\n  } = useContext(ProfileDisplayContext); //I'm pretty sure this is wrong somehow but I have yet to find out \n\n  useEffect(() => {\n    friendsList.map(async friend => `users/${friend.currentUser.id}`.get().child('activityStatus').onSnapshot(() => {\n      fetchActiveFriends(friendsList);\n    }));\n  }, []);\n  return /*#__PURE__*/React.createElement(ProfileDropdownContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(LabelContainer, {\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, \"Signout\"), activeFriends.forEach(friend => {\n    return /*#__PURE__*/React.createElement(ProfileTab, {\n      friend: friend,\n      onClick: () => history.push(`/profile/:userId/${friend.currentUser.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 28\n      }\n    });\n  }), /*#__PURE__*/React.createElement(DropdownLink, {\n    to: \"/browseusers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"Browse Users\"), /*#__PURE__*/React.createElement(DropdownLink, {\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"View Profile\"));\n};\n\nexport default withRouter(ProfileDropdown);","map":{"version":3,"sources":["C:/Users/stant/Documents/PortfolioProjects/VentilatorDonationApp/ventilator-donation/client/src/components/profile-dropdown/profile-dropdown.component.jsx"],"names":["React","useContext","useEffect","withRouter","ProfileTab","ProfileDropdownContainer","LabelContainer","DropdownLink","UserContext","ProfileDisplayContext","auth","ProfileDropdown","history","friendsList","activeFriends","fetchActiveFriends","map","friend","currentUser","id","get","child","onSnapshot","signOut","forEach","push"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,SAAQC,wBAAR,EAAkCC,cAAlC,EAAkDC,YAAlD,QAAqE,2BAArE;AACA,SAAQC,WAAR,QAA0B,oCAA1B;AACA,SAAQC,qBAAR,QAAoC,0DAApC;AACA,SAAQC,IAAR,QAAmB,+BAAnB;;AAGA,MAAMC,eAAe,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAe;AAEnC,QAAM;AAACC,IAAAA;AAAD,MAAgBZ,UAAU,CAACO,WAAD,CAAhC;AACA,QAAM;AAACM,IAAAA,aAAD;AAAgBC,IAAAA;AAAhB,MAAsCd,UAAU,CAACQ,qBAAD,CAAtD,CAHmC,CAMnC;;AACAP,EAAAA,SAAS,CAAE,MAAM;AACdW,IAAAA,WAAW,CAACG,GAAZ,CAAgB,MAAMC,MAAN,IAAiB,SAASA,MAAM,CAACC,WAAP,CAAmBC,EAAI,EAAjC,CAAmCC,GAAnC,GAAyCC,KAAzC,CAA+C,gBAA/C,EAAiEC,UAAjE,CAA4E,MAAM;AAC9GP,MAAAA,kBAAkB,CAACF,WAAD,CAAlB;AACF,KAF8B,CAAhC;AAGF,GAJQ,EAIN,EAJM,CAAT;AAQA,sBAAO,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH,oBAAC,cAAD;AAAgB,IAAA,OAAO,EAAE,MAAMH,IAAI,CAACa,OAAL,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADG,EAGCT,aAAa,CAACU,OAAd,CAAsBP,MAAM,IACxB;AACI,wBAAO,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEA,MAApB;AAA4B,MAAA,OAAO,EAAE,MAAML,OAAO,CAACa,IAAR,CAAc,oBAAmBR,MAAM,CAACC,WAAP,CAAmBC,EAAG,EAAvD,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAHL,CAHD,eASH,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATG,eAUH,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVG,CAAP;AAYH,CA3BD;;AA6BA,eAAehB,UAAU,CAACQ,eAAD,CAAzB","sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ProfileTab from '../profile-tab/profile-tab.component';\r\nimport {ProfileDropdownContainer, LabelContainer, DropdownLink} from './profile-dropdown.styles';\r\nimport {UserContext} from '../../providers/user/user.provider';\r\nimport {ProfileDisplayContext} from '../../providers/profile-display/profile-display.provider';\r\nimport {auth} from '../../firebase/firebase.utils';\r\n\r\n\r\nconst ProfileDropdown = ({history}) => {\r\n\r\n    const {friendsList} = useContext(UserContext);\r\n    const {activeFriends, fetchActiveFriends} = useContext(ProfileDisplayContext);\r\n\r\n\r\n    //I'm pretty sure this is wrong somehow but I have yet to find out \r\n    useEffect (() => {\r\n       friendsList.map(async friend => `users/${(friend.currentUser.id)}`.get().child('activityStatus').onSnapshot(() => {\r\n           fetchActiveFriends(friendsList);\r\n        }))\r\n    }, [])\r\n\r\n\r\n\r\n    return <ProfileDropdownContainer>\r\n        <LabelContainer onClick={() => auth.signOut()}>Signout</LabelContainer>\r\n        {\r\n            activeFriends.forEach(friend =>\r\n                {\r\n                    return <ProfileTab friend={friend} onClick={() => history.push(`/profile/:userId/${friend.currentUser.id}`)}/>\r\n                }\r\n            )\r\n        }\r\n        <DropdownLink to=\"/browseusers\">Browse Users</DropdownLink>\r\n        <DropdownLink to=\"/profile\">View Profile</DropdownLink>\r\n    </ProfileDropdownContainer>;\r\n}\r\n\r\nexport default withRouter(ProfileDropdown);"]},"metadata":{},"sourceType":"module"}